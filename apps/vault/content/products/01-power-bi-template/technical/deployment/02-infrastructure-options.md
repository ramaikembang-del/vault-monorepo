# Real-Time Data Updates Guide
## Power BI & Alternative Solutions

**Version:** 1.0
**Last Updated:** 2025-12-29
**Purpose:** Evaluate real-time vs scheduled refresh options for F&B dashboard

---

## Option 0: Excel Templates (Recommended for Most)

**The ecosystem bundle approach - simple & effective for 90% of restaurants.**

### How it Works:
1. Staff fill Excel templates daily (familiar interface)
2. Open Power BI -> Click Refresh (one button)
3. Data updates in 30 seconds
4. Dashboard ready!

### Requirements:
- Excel (included in bundle)
- Power BI Desktop (free)
- 5 minutes/day (data entry)

### Pros:
- **Zero infrastructure cost**
- **30-minute setup** (vs hours/days for other options)
- Works offline (no internet during data entry)
- Staff can use Excel (familiar, no training)
- One-click refresh (no CSV export, no formatting)

### Cons:
- Daily refresh only (not real-time)
- Manual refresh (click button daily)
- Limited to <100K transactions/month efficiently

### Best For:
- 95% of F&B businesses
- Single or small multi-outlet operations
- Teams comfortable with Excel
- Daily reporting cadence acceptable

### Latency:
- **Data freshness:** ~24 hours (yesterday's data each morning)
- **Update process:** 30 seconds (one button click)

### Cost:
- **Setup:** $0 (templates included)
- **Monthly:** $0 (no infrastructure)
- **Power BI:** $10/user/month (Pro license)

** -> If this meets your needs, stop here! No need for complex infrastructure below.**

---

## Table of Contents
1. [[#power-bi-real-time-options|Power BI Real-Time Options]]
2. [[#comparison-matrix|Comparison Matrix]]
3. [[#third-party-alternatives|Third-Party Alternatives]]
4. [[#recommendation-for-fnb-dashboard|Recommendation for F&B Dashboard]]
5. [[#implementation-guides|Implementation Guides]]

---

## Power BI Real-Time Options

Power BI offers **3 approaches** for real-time or near-real-time data:

### Option 1: DirectQuery
**How it works:** Power BI queries the database live on every interaction (no data cached in Power BI)

**Requirements:**
- SQL Server, Azure SQL, or other supported database
- Power BI Pro or Premium license
- Fast database with proper indexes
- Low query latency (<2 seconds per visual)

**Setup:**
```
1. In Power BI Desktop:
 - Get Data -> SQL Server
 - Connection mode: DirectQuery (not Import)

2. Every time user clicks/filters:
 - Power BI sends SQL query to database
 - Database returns results
 - Visual updates
```

**Example SQL Query (auto-generated by Power BI):**
```sql
SELECT
 SUM(GrossAmount - DiscountAmount) AS Revenue,
 CAST(date_time AS DATE) AS Date
FROM pos_orders
WHERE CAST(date_time AS DATE) >= '2025-12-01'
GROUP BY CAST(date_time AS DATE)
```

**Latency:**
- Data freshness: **Real-time** (as fresh as source database)
- Visual load time: 1-5 seconds per interaction
- Updates when: User refreshes browser or clicks filter

**Pros:**
- Always shows latest data (no refresh needed)
- No storage limits (data stays in database)
- Suitable for operational dashboards

**Cons:**
- Slower than cached data (network + query time)
- Database load increases with users
- Limited DAX features (some calculations not supported)
- Requires constant database connectivity

**Best For:**
- Live operational dashboards where data changes every minute
- Large datasets (>100 GB) that can't fit in Power BI memory

**NOT Recommended For:**
- Complex DAX calculations (Performance Score with 6 components)
- Many concurrent users (database bottleneck)
- Slow databases or unreliable connections

---

### Option 2: Push Datasets (Streaming via API)
**How it works:** Your application pushes data to Power BI via REST API in real-time

**Requirements:**
- Power BI Pro or Premium license
- Custom application to push data (Python, C#, Node.js)
- Internet connectivity
- Azure Active Directory authentication

**Setup:**

**Step 1: Create Push Dataset in Power BI Service**
```
1. Go to workspace in Power BI Service
2. Create -> Streaming dataset -> API
3. Define schema (columns and data types)
4. Copy API endpoint & key
```

**Step 2: Push Data from Application**

**Python Example:**
```python
import requests
import json
from datetime import datetime

# Power BI Push API endpoint (from Step 1)
API_URL = "https://api.powerbi.com/beta/.../datasets/YOUR-DATASET-ID/rows?key=YOUR-KEY"

# Prepare data (from POS system)
data = [{
 "TransactionID": "TXN-00123",
 "TransactionDate": datetime.now().isoformat(),
 "Revenue": 250000,
 "StaffID": "STAFF-005"
}]

# Push to Power BI
headers = {'Content-Type': 'application/json'}
response = requests.post(API_URL, data=json.dumps(data), headers=headers)

if response.status_code == 200:
 print("Data pushed successfully!")
else:
 print(f"Error: {response.status_code}")
```

**Node.js Example (POS Integration):**
```javascript
const axios = require('axios');

// Trigger on each POS transaction
posSystem.on('transaction_complete', async (transaction) => {
 const data = [{
 TransactionID: transaction.id,
 TransactionDate: new Date().toISOString(),
 Revenue: transaction.total,
 StaffID: transaction.server_id
 }];

 await axios.post(POWERBI_API_URL, data, {
 headers: { 'Content-Type': 'application/json' }
 });
});
```

**Step 3: Create Dashboard in Power BI**
```
- Add tile -> Custom Streaming Data
- Select your push dataset
- Choose chart type (card, line chart, etc.)
```

**Latency:**
- Data freshness: **1-5 seconds** after push
- Visual update: Automatic (no user refresh needed)
- Updates when: Application pushes new data

**Limits:**
- Max 1 million rows per dataset
- Max 10,000 requests/hour per dataset
- Data retention: 1 hour to 7 days (configurable)

**Pros:**
- True real-time updates (seconds)
- Auto-refreshing visuals (live tiles)
- No database query overhead

**Cons:**
- Limited to simple calculations (no complex DAX)
- Small dataset size limit (not suitable for historical data)
- Requires custom integration code
- Limited visual types (cards, line charts, gauges)

**Best For:**
- Live monitoring dashboards (current shift sales)
- KPI tiles that update every few seconds
- Alert systems (flash "Late Staff" when attendance logged)

**NOT Recommended For:**
- Historical analysis (limited data retention)
- Complex reports with drill-throughs
- Full dashboard replacement (use hybrid approach)

---

### Option 3: Hybrid (Import + DirectQuery)
**How it works:** Combine cached historical data (fast) with live current data (real-time)

**Requirements:**
- Power BI Premium (Composite models feature)
- SQL Server with partitioned tables
- Advanced Power BI knowledge

**Setup:**
```
1. Historical data (Import mode):
 - Sales from 2023-2025 -> cached in Power BI
 - Fast, complex DAX allowed

2. Current data (DirectQuery):
 - Sales from today -> queried live
 - Real-time, simple aggregations

3. Combine in visuals:
 - Chart shows both historical + live data seamlessly
```

**Example:**
```
Revenue Trend Chart:
- Jan - Nov 2025: Import (fast, cached)
- Dec 2025: DirectQuery (live, real-time)
- User sees entire year, Dec updates live every 5 minutes
```

**Latency:**
- Historical data: Instant (cached)
- Today's data: Real-time (DirectQuery)

**Pros:**
- Best of both worlds (fast history + live current)
- Complex calculations on historical data
- Real-time visibility for today

**Cons:**
- Requires Power BI Premium (~$5,000/month)
- Complex setup and maintenance
- Potential data modeling issues (relationships)

**Best For:**
- Large enterprise dashboards
- Analyzing trends (historical) while monitoring today (live)

---

## Comparison Matrix

| Feature | Import (Scheduled) | DirectQuery | Push Datasets | Hybrid |
|---------|-------------------|-------------|---------------|--------|
| **Data Freshness** | Hours (scheduled) | Seconds (on-click) | 1-5 seconds | Mixed |
| **Visual Performance** | Very Fast (cached) | Slow (query delay) | Fast (limited) | Mixed |
| **Complex DAX** | Full support | Limited | No | Historical only |
| **Dataset Size** | Up to 10 GB (Pro) | Unlimited | 1M rows | Unlimited |
| **Concurrent Users** | High (100+) | Low (5-10) | High | Medium |
| **Power BI License** | Pro ($10/user) | Pro | Pro | Premium ($5K/mo) |
| **Database Load** | Low (refresh only) | High (per user) | None | Medium |
| **Setup Complexity** | Low | Medium | High | Very High |
| **Internet Required** | Publish only | Always | Always | Always |
| **Best Use Case** | Daily management | Live operations | KPI monitoring | Enterprise |

---

## Third-Party Alternatives

### 1. Grafana (Open-Source)
**Real-Time Capability:** Excellent

**How it works:**
- Connects directly to SQL/PostgreSQL/MySQL
- Queries database every N seconds (configurable)
- WebSocket updates (browser auto-refreshes)

**Requirements:**
- Free (open-source) or Grafana Cloud ($49/month)
- SQL database
- Docker/server to host Grafana

**Setup:**
```yaml
# docker-compose.yml
version: '3'
services:
 grafana:
 image: grafana/grafana
 ports:
 - "3000:3000"
 environment:
 - GF_SECURITY_ADMIN_PASSWORD=admin
 volumes:
 - grafana-data:/var/lib/grafana
```

**Dashboard Configuration:**
```sql
-- Query runs every 5 seconds
SELECT
 SUM(total) AS revenue,
 NOW() AS timestamp
FROM pos_orders
WHERE DATE(date_time) = CURDATE()
```

**Pros:**
- True real-time (1-60 second refresh intervals)
- Free and open-source
- Beautiful visualizations
- Alert system (Slack, email notifications)

**Cons:**
- No built-in business intelligence (DAX equivalent)
- Requires technical setup (Docker, databases)
- Not as user-friendly as Power BI
- Limited drill-through capabilities

**Best For:**
- IT teams comfortable with code
- Real-time monitoring (revenue ticker)
- Alert-driven workflows

---

### 2. Tableau (Commercial Alternative)
**Real-Time Capability:** Good (similar to Power BI DirectQuery)

**How it works:**
- Live connection to database (like DirectQuery)
- Or extracts (like Power BI Import)

**Requirements:**
- Tableau Desktop: $70/user/month
- Tableau Server: $35/user/month (viewer)
- SQL database

**Pros:**
- Excellent visualizations
- Similar capabilities to Power BI
- Better geographic mapping

**Cons:**
- More expensive than Power BI
- Steeper learning curve
- Still not "true" real-time (DirectQuery model)

**Best For:**
- Teams already using Tableau
- Advanced geospatial analysis

---

### 3. Custom Web Dashboard (React + WebSockets)
**Real-Time Capability:** Excellent (true push updates)

**How it works:**
- Custom React/Vue.js web app
- WebSocket connection to backend
- Backend pushes updates when POS transaction occurs

**Requirements:**
- Web developer (React, Node.js)
- Hosting (AWS, Azure, or local server)
- WebSocket server

**Architecture:**
```
POS System -> WebSocket Server -> Browser (auto-updates)
 ↓
 SQL Database
```

**Example Stack:**
- Frontend: React + Chart.js
- Backend: Node.js + Socket.io
- Database: PostgreSQL

**Pros:**
- True real-time (instant updates)
- Full customization
- No licensing costs (just hosting)
- Mobile-friendly (responsive design)

**Cons:**
- Requires development team
- Ongoing maintenance burden
- No built-in report builder (code every chart)
- Higher initial cost (development time)

**Best For:**
- Startups with engineering resources
- Unique requirements not met by BI tools
- Integration with custom systems

**Estimated Cost:**
- Development: 200-400 hours ($10K-$40K)
- Hosting: $50-200/month
- Maintenance: 10-20 hours/month

---

### 4. Retool (Low-Code Platform)
**Real-Time Capability:** Good

**How it works:**
- Drag-and-drop dashboard builder
- Connects to databases, APIs
- Auto-refresh on interval or webhooks

**Requirements:**
- Retool subscription: $10-50/user/month
- SQL database or REST API

**Pros:**
- Faster than custom development
- Built-in components (tables, charts)
- Good for internal tools
- Refresh intervals configurable

**Cons:**
- Not as polished as Power BI/Tableau
- Limited advanced analytics
- Subscription costs add up

**Best For:**
- Internal operations dashboards
- Teams wanting custom UI without full development
- Rapid prototyping

---

## Recommendation for F&B Dashboard

### Current Situation
- **Users:** 1-3 (AM + managers)
- **Data Volume:** ~200K transactions/year
- **Update Frequency Needed:** Daily is sufficient for most metrics
- **Real-Time Need:** "Today's Revenue" should be live during shift

### Recommended Approach: **Hybrid Strategy**

**Tier 1: Daily Scheduled Refresh (80% of dashboard)**
Use Power BI **Import mode** with nightly refresh:
- Historical revenue trends
- Staff performance leaderboard
- Customer loyalty metrics
- NPS scores
- **Rationale:** These don't need real-time updates. Daily is fine.

**Tier 2: Live Tiles (20% of dashboard)**
Use Power BI **Push Datasets** for critical KPIs:
- "Today's Revenue" (live card)
- "Current Shift Transactions"
- "Staff Clocked In" count
- **Rationale:** Gives real-time feeling without full DirectQuery overhead

**Implementation:**
```python
# Integrate with POS system
# Push to Power BI on each transaction

import requests
from datetime import datetime

def on_transaction_complete(transaction):
 # Update live tile
 powerbi_data = [{
 "Timestamp": datetime.now().isoformat(),
 "Revenue": transaction.total,
 "TransactionCount": 1
 }]

 requests.post(POWERBI_PUSH_API, json=powerbi_data)

 # Also save to database for nightly refresh
 database.save_transaction(transaction)
```

**Dashboard Design:**
```
Tab 1 - Command Center:

 TODAY'S REVENUE (LIVE TILE) Push Dataset, updates every 30s
 IDR 2,450,000



 MTD Revenue vs Target (SCHEDULED) Import mode, refreshes nightly
 ======== 85%

```

**Costs:**
- Power BI Pro: $10/user/month × 3 = $30/month
- Development (POS integration): 8-16 hours one-time
- No additional infrastructure needed

**Why This Works:**
1. AM sees "Today's Revenue" update live (satisfies real-time need)
2. Complex analytics (Performance Score, NPS) work perfectly (Import mode)
3. Low cost (no Premium license)
4. Minimal database load (not DirectQuery)
5. Professional appearance (Power BI UI)

---

### Alternative: If True Real-Time on ALL Metrics is Required

**Use:** Grafana + Power BI Hybrid

**Architecture:**
```
Daily Management -> Power BI (Import, complex analytics)
Live Monitoring -> Grafana (real-time, simple KPIs)
```

**Example Split:**
- **Power BI (opened in morning):** Full dashboard with yesterday's data, trends, staff leaderboard
- **Grafana (always on display):** Live revenue ticker, current transactions/hour, alerts

**TV Display Setup:**
```
55" TV in kitchen showing Grafana dashboard:
- Current shift revenue (updates every 10 seconds)
- Transactions this hour
- Alert: "Late Staff: 2" (red flash)
```

**Costs:**
- Grafana: Free (self-hosted) or $49/month (cloud)
- Power BI Pro: $10/user/month
- Development: 40-60 hours (Grafana setup + POS integration)

---

## Implementation Guides

### Setup 1: Power BI Push Datasets (Live Tiles)

**Step 1: Create Streaming Dataset**
```
1. Go to app.powerbi.com
2. Workspace -> Create -> Streaming dataset
3. Choose: API
4. Define schema:
 - Timestamp (DateTime)
 - Revenue (Number)
 - TransactionCount (Number)
5. Enable historic analysis: Yes
6. Copy API URL
```

**Step 2: Integrate with POS**

**If POS has webhook support:**
```python
# Configure POS webhook to call this endpoint
from flask import Flask, request
import requests

app = Flask(__name__)
POWERBI_API = "https://api.powerbi.com/beta/.../rows?key=..."

@app.route('/pos-webhook', methods=['POST'])
def on_transaction():
 transaction = request.json

 # Push to Power BI
 data = [{
 "Timestamp": transaction['completed_at'],
 "Revenue": transaction['total'],
 "TransactionCount": 1
 }]

 requests.post(POWERBI_API, json=data)
 return "OK", 200
```

**If POS doesn't have webhooks (polling):**
```python
# Run this script continuously on server
import time
import requests
from datetime import datetime

POWERBI_API = "https://api.powerbi.com/beta/.../rows?key=..."
last_transaction_id = 0

while True:
 # Query POS database for new transactions
 new_transactions = database.query(
 f"SELECT * FROM transactions WHERE id > {last_transaction_id}"
 )

 if new_transactions:
 total_revenue = sum(t['total'] for t in new_transactions)

 # Push to Power BI
 data = [{
 "Timestamp": datetime.now().isoformat(),
 "Revenue": total_revenue,
 "TransactionCount": len(new_transactions)
 }]

 requests.post(POWERBI_API, json=data)
 last_transaction_id = new_transactions[-1]['id']

 time.sleep(30) # Check every 30 seconds
```

**Step 3: Add Live Tile to Dashboard**
```
1. In Power BI Desktop, publish main dashboard
2. In Power BI Service, open dashboard
3. Add tile -> Custom Streaming Data
4. Select your streaming dataset
5. Visualization: Card
6. Fields: Sum of Revenue
7. Time window: Last 24 hours
8. Pin to dashboard
```

---

### Setup 2: Grafana Real-Time Dashboard

**Step 1: Install Grafana**
```bash
# Using Docker
docker run -d -p 3000:3000 grafana/grafana

# Or install on Windows
# Download from grafana.com/grafana/download
```

**Step 2: Connect to Database**
```
1. Open http://localhost:3000
2. Login (admin/admin)
3. Configuration -> Data Sources -> Add MySQL/PostgreSQL
4. Host: your-database-server
5. Database: FnB_Analytics
6. Test connection
```

**Step 3: Create Dashboard**
```
1. Create -> Dashboard
2. Add panel -> Time series
3. Query:
 SELECT
 date_time AS time,
 SUM(total) AS revenue
 FROM pos_orders
 WHERE date_time > NOW() - INTERVAL 1 DAY
 GROUP BY time
 ORDER BY time

4. Settings:
 - Refresh: 5s (auto-refresh every 5 seconds)
 - Time range: Last 24 hours
5. Save dashboard
```

**Step 4: Display on Monitor**
```
1. Dashboard -> Settings -> TV/Kiosk mode
2. Open URL on display PC/tablet
3. Auto-refresh enabled
```

---

## Cost Comparison

| Solution | Setup Cost | Monthly Cost | Annual Cost |
|----------|------------|--------------|-------------|
| **Power BI (Scheduled)** | $0 | $30 (3 users) | $360 |
| **Power BI + Push Tiles** | $500 dev | $30 + $0 | $860 |
| **Power BI DirectQuery** | $0 | $30 | $360 |
| **Power BI Premium** | $2,000 setup | $5,000 | $62,000 |
| **Grafana (Self-hosted)** | $2,000 dev | $0 | $2,000 |
| **Grafana Cloud** | $1,000 dev | $49 | $1,588 |
| **Tableau** | $1,000 setup | $210 (3 users) | $3,520 |
| **Custom React App** | $20,000 dev | $100 hosting | $21,200 |
| **Retool** | $500 setup | $90 (3 users) | $1,580 |

---

## Final Recommendation

**For your F&B Dashboard:**

 **Use Power BI Import (scheduled nightly) + Push Datasets for live KPIs**

**Reasons:**
1. **Cost-effective:** Only $30/month for 3 users
2. **Best UX:** Professional Power BI interface users trust
3. **Selective real-time:** Only critical metrics need live updates
4. **Maintainable:** Standard Microsoft stack
5. **Scalable:** Can add Grafana later for TV displays if needed

**Phase 1 (Now):** Power BI with nightly refresh
**Phase 2 (3 months):** Add push datasets for "Today's Revenue" live tile
**Phase 3 (6 months):** Consider Grafana for kitchen TV display (optional)

**Don't Use:**
- DirectQuery (too slow for complex calculations)
- Power BI Premium (overkill for 3 users)
- Custom app (too expensive to develop)

---

**Questions?**
- Real-time requirements: How fresh does data need to be?
- User count: Will this scale beyond 3 users?
- Budget: What's acceptable monthly cost?
- Technical capacity: Do you have developers for integration?

Contact BI team for implementation planning.

**Document Version:** 1.0
**Next Review:** 2026-01-23
